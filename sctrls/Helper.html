<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <title>
   Helper
  </title>
  <style type="text/css">
   <!--
body,td,th {
	font-family: Verdana, Arial, Helvetica, sans-serif;
}
.STYLE1 {
	color: #FF0000;
	font-weight: bold;
	font-size: xx-large;
}
.STYLE2 {
	color: #FF00FF;
	font-weight: bold;
}
.STYLE3 {
	color: #0000FF
}
-->
  </style>
 </head>
 <body>
  <p class="STYLE1">
   Helper
  </p>
  <p>
   创建玩家的另一个实例作为一个helper(援助)人物.
  </p>
  <p>
   <span class="STYLE2">
    必要参数:
   </span>
   <br/>
   无
  </p>
  <p>
   <span class="STYLE2">
    可选参数:
   </span>
   <br/>
   <span class="STYLE3">
    helpertype = type_string (字符串型)
   </span>
   <br/>
   不推荐使用此参数,不支持使用player型的helper.
   <br/>
   如果helpertype = normal,则helper将被允许离开(走出)屏幕.
   <br/>
   此外,摄像机将不会因为要使helper停留在画面内而移动.(也就是说摄像机不会跟着helper走)
   <br/>
   如果helpertype = player,则helper将被约束在屏幕内且摄像机将跟随他移动,就像普通玩家一样.默认是normal.
   <br/>
   如果你想用helper来操纵摄像机,不要使用player型的helper.
   <br/>
   使用设置了"movecamera"参数的ScreenBound控制器可以代替.
  </p>
  <p>
   <span class="STYLE3">
    name = "name_string" (字符串型)
   </span>
   <br/>
   指定helper的名字,必须写在双引号里面.
   <br/>
   如果省略,此名字默认是"&lt;parent&gt;'s helper",这里的&lt;parent&gt;代表创建此helper的玩家的名字.
  </p>
  <p>
   <span class="STYLE3">
    ID = id_no (整型)
   </span>
   <br/>
   设置此helper的ID号.默认是0.
  </p>
  <p>
   <span class="STYLE3">
    pos = off_x, off_y (整型)
   </span>
   <br/>
   指定这个helper将要被创建的位置.(x和y方向偏移量)
   <br/>
   这些参数的准确意义得依赖于postype.默认是0,0.
  </p>
  <p>
   <span class="STYLE3">
    postype = postype_string (字符串型)
   </span>
   <br/>
   postype_string指定postype -- 如何解读pos参数.
   <br/>
   所有情况下,一个正的y偏移量意味着向下的位移.
   <br/>
   所有情况下,off_y是相对于玩家位置而言的.
  </p>
  <p>
   下面是有效的postype_string值:
   <br/>
  </p>
  <ul>
   <li>
    <span class="STYLE3">
     p1
    </span>
    <br/>
    说明了相对于P1坐标轴的位置.正的off_x朝向P1的前方.这是postype默认值.
    <br/>
    该类型自身Anim的大小,位置,速度均为屏幕绝对空间.
   </li>
   <li>
    <span class="STYLE3">
     p2
    </span>
    <br/>
    说明了相对于P2坐标轴的位置.正的off_x朝向P2的前方.
    <br/>
    如果P2不存在,位置的计算是和P1有关的且会记录一次警告.
    <br/>
    该类型自身Anim的大小,位置,速度均为屏幕绝对空间.
   </li>
   <li>
    <span class="STYLE3">
     front
    </span>
    <br/>
    说明了off_x相对于P1朝向的屏幕边缘.(p1朝向右边时,x=0为屏幕右边缘)
    <br/>
    正的off_x远离屏幕的中心,而负的off_x朝向中心.
    <br/>
    y=0时与地平面相同位置.负值向上移动.
    <br/>
    该类型自身Anim的大小,位置,速度均为屏幕绝对空间.
   </li>
   <li>
    <span class="STYLE3">
     back
    </span>
    <br/>
    说明了off_x相对于P1背向的屏幕边缘.(p1朝向右边时,x=0为屏幕左边缘)
    <br/>
    正的off_x朝向屏幕的中心,而负的off_x远离中心.
    <br/>
    y=0时与地平面相同位置.负值向上移动.
    <br/>
    该类型自身Anim的大小,位置,速度均为屏幕绝对空间.
   </li>
   <li>
    <span class="STYLE3">
     left
    </span>
    <br/>
    说明了off_x相对于屏幕的左边缘.(无论p1朝向哪边,x=0为屏幕左边缘)
    <br/>
    正的off_x朝向屏幕右方.负值off_x向屏幕左边(屏幕左侧之外)移动.
    <br/>
    y=0时与地平面相同位置.负值向上移动.
    <br/>
    该类型自身Anim的大小,位置为屏幕绝对空间.速度为人物def中定义的localcoord坐标相对坐标位置而言.
   </li>
   <li>
    <span class="STYLE3">
     right
    </span>
    <br/>
    说明了off_x相对于屏幕的右边缘.(无论p1朝向哪边,x=0为屏幕右边缘)
    <br/>
    正的off_x朝向屏幕左方.负值off_x向屏幕右边(屏幕右侧之外)移动.
    <br/>
    y=0时与地平面相同位置.负值向上移动.
    <br/>
    该类型自身Anim的大小,位置为屏幕绝对空间.速度为人物def中定义的localcoord坐标相对坐标位置而言.
   </li>
  </ul>
  <p>
   <span class="STYLE3">
    facing = facing (整型)
   </span>
   <br/>
   如果postype是left或者right,设置facing为1将使helper朝右,值为-1使helper朝左.
   <br/>
   除了P2以外的其他postype值,如果facing是1,helper的朝向将和玩家一样.如果是-1,则与玩家朝向相反.
   <br/>
   postype = p2这种情况下,facing的效果和上面一样,只是和P2的朝向有关而不是P1.默认是1.
  </p>
  <p>
   <span class="STYLE3">
    stateno = start_state (整型)
   </span>
   <br/>
   确定helper的初始状态号.默认为0.
   <br/>
   ([StateDef 0]一般是人物默认站立姿势,所以有时候对战时发现会突然多个人出来,就要检查一下是不是哪里创建了helper但是没有指定stateno.
   <br/>
   或者是创建了意料之外的helper而没有销毁. )
  </p>
  <p>
   <span class="STYLE3">
    keyctrl = ctrl_flag (布尔型)
   </span>
   <br/>
   如果ctrl_flag是1,则helper能够接受玩家输入的指令.(例如键盘,手柄)
   <br/>
   同样,此helper将继承他根级(最顶级)的state -1.
   <br/>
   如果ctrl_flag是0,则helper不能访问输入的指令,且不能继承 state -1.
   <br/>
   如果ctrl_flag是1,helpertype=player类型将会执行state -1,state -2,state -3,而normal类型只会执行state -1.请注意相关变量在这些状态中的赋值和读取,变量前加上【helper(ID),】防止与root(人物本体)产生混淆.
   <br/>
   ctrl_flag默认值为0.
  </p>
  <p>
   <span class="STYLE3">
    ownpal = ownpal_flag (布尔型)
   </span>
   <br/>
   如果ownpal_flag是0,helper将受父级PalFX和RemapPal控制器影响.此为默认值.
   <br/>
   如果ownpal_flag是1,helper将有自己暂时的色表,独立于他的父级.
  </p>
  <p>
   <span class="STYLE3">
    remappal = dst_pal_grp, dst_pal_item (整型, 整型)
   </span>
   <br/>
   强制色表从helper索引颜色图像重映射到指定的色表.
   <br/>
   此参数仅当ownpal_flag为非0时有效.
   <br/>
   如果dst_pal_grp是-1,此参数将被忽略.默认-1,0.
  </p>
  <p>
   <span class="STYLE3">
    supermovetime = move_time (整型)
   </span>
   <br/>
   指定helper在SuperPause中不被冻结住的帧数.默认为0.
  </p>
  <p>
   <span class="STYLE3">
    pausemovetime = move_time (整型)
   </span>
   <br/>
   指定helper在Pause中不被冻结住的帧数.默认为0.
  </p>
  <p>
   <span class="STYLE3">
    size.xscale (浮点型)
   </span>
   <br/>
   如果未设置,默认为人物[Size]参数中的xscale值.设置之后将替换为新值.该值为屏幕绝对空间大小比例.
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.yscale (浮点型)
   </span>
   <br/>
   如果未设置,默认为人物[Size]参数中的yscale值.设置之后将替换为新值.该值为屏幕绝对空间大小比例.
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.ground.back (整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.ground.front (整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.air.back (整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.air.front (整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.height (整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.proj.doscale (整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.head.pos (整型,整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.mid.pos (整型,整型)
   </span>
   <br/>
   见下方.
  </p>
  <p>
   <span class="STYLE3">
    size.shadowoffset (整型)
   </span>
   <br/>
   这些参数与根级CNS文件相应参数意义相同.
   <br/>
   你能指定某几个参数将它们的值改变成适合helper的数值.
   <br/>
   否则,它们将从父级继承默认值.
  </p>
  <p>
   <span class="STYLE2">
    示例:
   </span>
   <br/>
   无
  </p>
  <p>
   另: 如需动态改变Helper的大小和显示角度等,请参阅
   <span class="STYLE3">
    AngleDraw
   </span>
  </p>
  <p>
   请注意在创建Helper时使用size.xscale和size.yscale,以及在Helper内使用AngleDraw等方式改变大小后,动画的攻击和防御框大小均不会自动进行缩放! (即air中定义的CLSN1和CLSN2不会自动缩放,需手动进行调整.)
  </p>
  <br/>
 </body>
</html>
