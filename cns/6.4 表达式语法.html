<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=gb2312" http-equiv="content-type" />
<title>6.4 表达式语法</title>
<style type="text/css">
<!--
body,td,th {
	font-family: Verdana, Arial, Helvetica, sans-serif;
}
.STYLE1 {
	color: #FF0000;
	font-weight: bold;
	font-size: xx-large;
}
.STYLE2 {
	color: #FF00FF;
	font-weight: bold;
}
.STYLE3 {
	color: #0000FF
}
-->
</style></head>

<body>
<p class="STYLE1">6.4 表达式语法</p>
<p>基本上来说,任何普通算术表达式都是合法的.<br />
此外,因为关系运算符(&gt;,&lt;=,等等)被视为返回整型,能够运算他们的返回值,有点看起来不像普通的表达式.</p>
<ul>
  <li>1.0 = (2 = (1 &gt; 0) + !(0 &lt; 1))<br />
    1&gt;0返回值1,0&lt;1返回值0.!(0&lt;1)等于1,所以这个表达式就等同于</li>
  <li>1.0 = (2 = 1 + 1)<br />
  因为2=1+1返回1,所以表达式可以更简化为</li>
  <li>1.0 = 1.0<br />
    返回1.</li>
</ul>
<p>语法表达式中一个值得注意的限制地方是区间运算符仅允许出现在表达式最右方.<br />
  若表达式中有括号,在表达式括号部分中,那部分被认为是子表达式,区间表达式允许出现在子表达式的右边.<br />
  下面是一个有效格式的表达式:</p>
<ul>
  <li>(1 = [0,2]) = (0,1)<br />
  但是下面的不是一个有效格式的表达式:</li>
  <li>1 = [0,2] = (0,1)<br />
    </li>
</ul>
<p>另外,只有&quot;=&quot;和&quot;!=&quot;符号允许出现在区间表达式前面.<br />
  所以 5 &gt; [0,2],或 4 + [1,4) 此类表达式是非法的.</p>
<p>在逗号分隔的参数列表中,比如给函数型触发器或者状态控制器参数赋值,每个列表中的表达式被认为是一个单独的子表达式,因此区间运算符可以出现在这些子表达式的末尾.</p>
<p>例子:<br />
  trigger1 = stateno=[0,1000] &amp;&amp; p2stateno=[0,1000] ;非法,而且此种错误很难检测出来 <br />
  trigger1 = (stateno=[0,1000]) &amp;&amp; p2stateno=[0,1000] ;合法,满足区间表达式出现在表达式最右方以及子表达式右方.</p>
<p></p>
</body>
</html>
